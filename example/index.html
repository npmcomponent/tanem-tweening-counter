<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Tweening Counter Demo</title>
  <style type="text/css">
  body {
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  }

  .tweening-counter {
    font-size: 120px;
    height: 200px;
    left: 50%;
    line-height: 200px;
    margin-left: -100px;
    margin-top: -100px;
    position: absolute;
    text-align: center;
    top: 50%;
    width: 200px;
  }
  </style>
</head>
<body>
  <div class="tweening-counter"></div>
  <script src="../build/build.js"></script>
  <script>
  (function(){
    
    var raf = require('raf');
    var random = require('random');
    var TweeningCounter = require('tweening-counter');

    var tweeningCounter = new TweeningCounter(document.querySelector('.tweening-counter')).duration(3000);

    // Runs the tweening counter towards a random int between 0 and 50,
    // with a delay of between 0.5s and 2s between each run.
    function run(tweeningCounter) {
      var start = null;
      var delay = random(500, 2000, true);
      tweeningCounter
        .to(random(0, 50, true))
        .onComplete(function loop() {
          start = start || Date.now();
          var now = Date.now();
          if (now - start >= delay) {
            start = null;
            return run(tweeningCounter);
          }  
          raf(loop);
        })
        .start();
    }

    run(tweeningCounter);

  }());
  </script>
</body>
</html>